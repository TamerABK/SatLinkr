CREATE TABLE IF NOT EXISTS OCO2 (
    latitude REAL,
    longitude REAL,
    observationTime INTEGER,
    solar_zenith_angle REAL,
    sensor_zenith_angle REAL,
    xco2_quality_flag INTEGER CHECK (xco2_quality_flag >= 0),
    xco2_qf_bitflag INTEGER CHECK (xco2_qf_bitflag >= 0),
    xco2_qf_simple_bitflag INTEGER CHECK (xco2_qf_simple_bitflag >= 0),
    xco2 REAL,
    xco2_x2019 REAL,
    xco2_uncertainty REAL,
    xco2_apriori REAL,
    pressure_levels TEXT,
    co2_profile_apriori TEXT,
    xco2_averaging_kernel TEXT,
    pressure_weight TEXT,
    UNIQUE(observationTime, latitude, longitude)

);

CREATE TABLE IF NOT EXISTS GOSAT(
    observationTime INTEGER,
    latitude REAL,
    longitude REAL,
    solar_zenith_angle REAL,
    XCH4_B3_2350 REAL,
    XCH4_apriori_B3_2350 REAL,
    XCH4_dfs_B3_2350 REAL,
    XCH4_uncert_B3_2350 REAL,
    XCO_B3_2350 REAL,
    XCO_apriori_B3_2350 REAL,
    XCO_dfs_B3_2350 REAL,
    XCO_uncert_B3_2350 REAL,
    XH2O_B3_2350 REAL,
    XH2O_apriori_B3_2350 REAL,
    XH2O_dfs_B3_2350 REAL,
    XH2O_uncert_B3_2350 REAL,
    XCO2_B2_1590 REAL,
    XCO2_apriori_B2_1590 REAL,
    XCO2_dfs_B2_1590 REAL,
    XCO2_uncert_B2_1590 REAL,
    XCO2_B3_2060 REAL,
    XCO2_apriori_B3_2060 REAL,
    XCO2_dfs_B3_2060 REAL,
    XCO2_uncert_B3_2060 REAL,
    XCH4_B2_1660 REAL,
    XCH4_apriori_B2_1660 REAL,
    XCH4_dfs_B2_1660 REAL,
    XCH4_uncert_B2_1660 REAL,
    XH2O_B3_2060 REAL,
    XH2O_apriori_B3_2060 REAL,
    XH2O_dfs_B3_2060 REAL,
    XH2O_uncert_B3_2060 REAL,
    XH2O_B2_1660 REAL,
    XH2O_apriori_B2_1660 REAL,
    XH2O_dfs_B2_1660 REAL,
    XH2O_uncert_B2_1660 REAL,
    XH2O_B2_1590 REAL,
    XH2O_apriori_B2_1590 REAL,
    XH2O_dfs_B2_1590 REAL,
    XH2O_uncert_B2_1590 REAL,
    algorithmName TEXT,
    algorithmVersion TEXT,
    soundingQualityFlag TEXT,
    spectrumQualityFlag TEXT,
    UNIQUE(observationTime, latitude, longitude)
);


CREATE TABLE IF NOT EXISTS fetched_regions (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    region_name TEXT NOT NULL,
    satellite TEXT NOT NULL,
    latitude REAL NOT NULL,
    longitude REAL NOT NULL,
    radius_km REAL NOT NULL,
    start_timestamp INTEGER NOT NULL,
    end_timestamp INTEGER NOT NULL,
    status TEXT DEFAULT 'fetched',
    fetched_at INTEGER DEFAULT (strftime('%s', 'now')),
    created_at INTEGER DEFAULT (strftime('%s', 'now')),
    UNIQUE(latitude, longitude, radius_km),
    UNIQUE(region_name)
);

